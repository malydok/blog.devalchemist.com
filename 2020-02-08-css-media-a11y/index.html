<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.1a653aedbc73e071aa18.css">:root{--codeBlockBackground:rgba(39,34,28,0.94118);--outsideBackground:#27221c;--markedText:rgba(39,34,28,0.12549);--blockquoteBackground:#dfdfd9;--outsideText:#e6e6e0;--outsideLightText:rgba(230,230,224,0.6);--accent:#a03030;--accentText:#a03030;--contentText:#27221c;--contentBackground:#e6e6e0}@media screen and (color-index:48){:root{--markedText:#24201a;--blockquoteBackground:#363129;--accentText:#f86060;--contentText:#e6e6e0;--contentBackground:#322d28}}@media screen and (prefers-color-scheme:dark){:root{--markedText:#24201a;--blockquoteBackground:#363129;--accentText:#f86060;--contentText:#e6e6e0;--contentBackground:#322d28}}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tml,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}em,i{font-style:italic}strong{font-weight:700}code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;overflow:auto;font-size:.9em;margin:.5em 0 1rem;background:rgba(39,34,28,.94118);background:var(--codeBlockBackground)}:not(pre)>code[class*=language-],kbd{font-size:.9em;color:#27221c;color:var(--contentText);background:rgba(39,34,28,.12549);background:var(--markedText);padding:0 .2em;white-space:normal}kbd{white-space:nowrap}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}.visuallyhidden{position:absolute;overflow:hidden;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;border:0}html{font-size:80%}@media (min-width:480px){html{font-size:90%}}@media (min-width:768px){html{font-size:100%}}body{color:#27221c;color:var(--contentText);background-color:#27221c;background-color:var(--outsideBackground);overflow-y:scroll;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;font-size:1.125rem;line-height:1.4}h1,h2,h3{font-weight:400;font-family:Palatino,Palatino Linotype,Palatino LT STD,Book Antiqua,Georgia,serif}a{color:#a03030;color:var(--accentText);text-decoration:none}a:focus,a:hover{text-decoration:underline}hr{border:none;height:1px;margin:1.5rem 0;background-color:rgba(39,34,28,.12549);background-color:var(--markedText)}blockquote{padding:1rem 1.5rem;background-color:#dfdfd9;background-color:var(--blockquoteBackground);border-left:.2rem solid #a03030;border-left:.2rem solid var(--accent)}@-webkit-keyframes hornJump{0%,6%,to{-webkit-transform:translateY(0) rotate(0);transform:translateY(0) rotate(0)}20%{-webkit-transform:translateY(-6px) rotate(0);transform:translateY(-6px) rotate(0)}40%{-webkit-transform:translateY(2px) rotate(5deg);transform:translateY(2px) rotate(5deg)}60%{-webkit-transform:translateY(0) rotate(-4deg);transform:translateY(0) rotate(-4deg)}80%{-webkit-transform:translateY(0) rotate(3deg);transform:translateY(0) rotate(3deg)}}@keyframes hornJump{0%,6%,to{-webkit-transform:translateY(0) rotate(0);transform:translateY(0) rotate(0)}20%{-webkit-transform:translateY(-6px) rotate(0);transform:translateY(-6px) rotate(0)}40%{-webkit-transform:translateY(2px) rotate(5deg);transform:translateY(2px) rotate(5deg)}60%{-webkit-transform:translateY(0) rotate(-4deg);transform:translateY(0) rotate(-4deg)}80%{-webkit-transform:translateY(0) rotate(3deg);transform:translateY(0) rotate(3deg)}}@-webkit-keyframes letterJump{0%,to{-webkit-transform:translateY(0);transform:translateY(0)}30%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}60%{-webkit-transform:translateY(4px);transform:translateY(4px)}}@keyframes letterJump{0%,to{-webkit-transform:translateY(0);transform:translateY(0)}30%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}60%{-webkit-transform:translateY(4px);transform:translateY(4px)}}.site-name{line-height:1}.home-link{display:block;color:#e6e6e0;color:var(--outsideText)}.home-link:focus,.home-link:hover{text-decoration:none}.home-link:focus .site-name__horns,.home-link:hover .site-name__horns{-webkit-animation:hornJump .8s;animation:hornJump .8s}.home-link:focus .site-name__letter,.home-link:hover .site-name__letter{-webkit-animation:letterJump .5s;animation:letterJump .5s}.site-name__image{position:relative;float:left;margin-right:2rem}.site-name__horns{fill:#a03030;fill:var(--accent);-webkit-transform-origin:center;transform-origin:center}.site-name__letter{position:absolute;top:0;left:0;fill:#e6e6e0;fill:var(--outsideText)}.site-name__letter.dark{fill:#27221c;fill:var(--outsideBackground)}.site-name__text{display:inline-block;font-family:Palatino,Palatino Linotype,Palatino LT STD,Book Antiqua,Georgia,serif;margin-top:.6em;margin-bottom:.05em;font-size:2rem}@media (min-width:480px){.site-name__text{margin-top:.35em;font-size:2.2rem}}@media (min-width:768px){.site-name__text{margin-top:.23em}}.site-description{text-transform:uppercase;letter-spacing:.4em;color:rgba(230,230,224,.6);color:var(--outsideLightText);transition:opacity .2s;font-size:.8rem}@media (min-width:480px){.site-description{font-size:.875rem}}.sections-wrap{position:relative;max-width:50rem;padding:1.5rem 0}@media (min-width:768px){.sections-wrap{margin:0 5%;padding:3rem 0}}@media (min-width:1280px){.sections-wrap{margin:0 10%}}.section-main{margin:1.5rem 0}@media (min-width:768px){.section-main{margin:3rem 0}}.site-footer,.site-header{padding:0 1rem}@media (min-width:768px){.site-footer,.site-header{padding:0}}.article{position:relative;margin:1rem 0;padding:3rem 1rem;border-top:5px solid #a03030;border-top:5px solid var(--accent);background-color:#e6e6e0;background-color:var(--contentBackground)}.article:before{content:"fin";position:absolute;z-index:2;bottom:0;right:0;font-size:3.5rem;line-height:.8;color:#27221c;color:var(--contentText);opacity:.2;font-family:Palatino,Palatino Linotype,Palatino LT STD,Book Antiqua,Georgia,serif}@media (min-width:768px){.article{padding:4rem 2rem}}@media (forced-colors:active){.article{padding:3rem 0}}.article__title{font-size:1.6rem;line-height:1.2}@media (min-width:480px){.article__title{font-size:1.8rem}}.article__date{font-size:1rem;text-transform:uppercase;letter-spacing:.2em;opacity:.7}.article__content{margin-top:2rem;margin-bottom:2rem}.article__content h2,.article__content h3,.article__content h4{margin:2rem 0 1.2rem;border-bottom:1px solid rgba(39,34,28,.12549);border-bottom:1px solid var(--markedText)}.article__content h2{font-size:1.6rem}.article__content h3{text-transform:uppercase;letter-spacing:.1em}.article__content a:focus,.article__content a:hover{text-decoration:underline}.article__content>*+*{margin-top:1em}.article__content ol{list-style-position:inside}.articles-list{margin:1rem 0;border-top:5px solid #a03030;border-top:5px solid var(--accent);background-color:#e6e6e0;background-color:var(--contentBackground)}.article-link{position:relative;display:block;padding:1rem;border-bottom:1px solid rgba(39,34,28,.12549);border-bottom:1px solid var(--markedText);color:#27221c;color:var(--contentText)}.article-link:before{content:"";position:absolute;top:0;bottom:-1px;left:0;right:0;background-color:rgba(39,34,28,.12549);background-color:var(--markedText);opacity:0;-webkit-transform:scaleX(.6);transform:scaleX(.6);transition:opacity .3s,-webkit-transform .4s cubic-bezier(0,1,.5,1);transition:opacity .3s,transform .4s cubic-bezier(0,1,.5,1);transition:opacity .3s,transform .4s cubic-bezier(0,1,.5,1),-webkit-transform .4s cubic-bezier(0,1,.5,1);-webkit-transform-origin:10%;transform-origin:10%}.article-link:focus,.article-link:hover{text-decoration:none}.article-link:focus:before,.article-link:hover:before{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}.article-link:active{color:#a03030;color:var(--accent)}@media (min-width:768px){.article-link{padding:1rem 2rem}}.article-link__date,.article-link__title{z-index:1;position:relative}.article__back{position:absolute;top:0;left:0;right:0;padding-top:.7rem;padding-bottom:.7rem;font-size:1.2rem;line-height:1;border:none}.article__back:focus .article__back-text,.article__back:hover .article__back-text{opacity:1;-webkit-transform:translateX(0);transform:translateX(0)}.article__back--bottom{top:auto;bottom:0;padding-bottom:.9rem}.article__back-inner{position:relative;z-index:1}.article__back-text{display:inline-block;margin-left:.5rem;font-size:1rem;text-transform:uppercase;letter-spacing:.1em;opacity:0;-webkit-transform:translateX(1rem);transform:translateX(1rem);transition:opacity .3s,-webkit-transform .4s cubic-bezier(0,1,.5,1);transition:opacity .3s,transform .4s cubic-bezier(0,1,.5,1);transition:opacity .3s,transform .4s cubic-bezier(0,1,.5,1),-webkit-transform .4s cubic-bezier(0,1,.5,1)}.site-footer{font-size:1rem;color:rgba(230,230,224,.6);color:var(--outsideLightText)}.site-footer a{color:#e6e6e0;color:var(--outsideText)}</style><meta name="generator" content="Gatsby 2.4.2"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=a496bd86037dd92cbc323524193af072"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#a03030"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=a496bd86037dd92cbc323524193af072"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=a496bd86037dd92cbc323524193af072"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=a496bd86037dd92cbc323524193af072"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=a496bd86037dd92cbc323524193af072"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=a496bd86037dd92cbc323524193af072"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=a496bd86037dd92cbc323524193af072"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=a496bd86037dd92cbc323524193af072"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=a496bd86037dd92cbc323524193af072"/><title data-react-helmet="true">Preferencje użytkownika w CSS @media | Devilish Alchemist&#x27;s Blog</title><meta data-react-helmet="true" name="description" content="W specyfikacji Media Queries poziomu 5 wprowadzane są nowe reguły @media pozwalające na szanowanie ustawień użytkownika w paru zakresach. Dwa najbardziej…"/><meta data-react-helmet="true" property="og:title" content="Preferencje użytkownika w CSS @media"/><meta data-react-helmet="true" property="og:description" content="W specyfikacji Media Queries poziomu 5 wprowadzane są nowe reguły @media pozwalające na szanowanie ustawień użytkownika w paru zakresach. Dwa najbardziej…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Marek Pietrzak"/><meta data-react-helmet="true" name="twitter:title" content="Preferencje użytkownika w CSS @media"/><meta data-react-helmet="true" name="twitter:description" content="W specyfikacji Media Queries poziomu 5 wprowadzane są nowe reguły @media pozwalające na szanowanie ustawień użytkownika w paru zakresach. Dwa najbardziej…"/><link as="script" rel="preload" href="/webpack-runtime-da21cc67be3be90d2575.js"/><link as="script" rel="preload" href="/app-18cb18ebc15fda75ec3c.js"/><link as="script" rel="preload" href="/styles-fbc925b19cac9dd3535c.js"/><link as="script" rel="preload" href="/1-9109b7577cf099b32566.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-4d1997cd8e762544ffed.js"/><link as="fetch" rel="preload" href="/static/d/431/path---2020-02-08-css-media-a-11-y-a-6-a-66e-qtLQtH9ZcQyWpdYOVjWMlhLNmI.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="sections-wrap"><header class="site-header"><a class="home-link" title="All articles" href="/"><span class="site-name"><div class="site-name__image"><svg class="site-name__horns" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71 100" width="42" role="presentation"><path d="M58.627 56.034l-10.35-27.41s15.944-1.4 13.425-13.706C59.637 4.81 53.592 1.56 52.286.978 50.978.393 51.634.27 51.634.27s9.754.433 13.985 7.376c4.474 7.343 8.39 20.698-.56 32.446-8.95 11.747-6.433 15.942-6.433 15.942zM12.362 56.034l10.35-27.41s-15.944-1.4-13.428-13.707C11.352 4.81 17.398 1.56 18.704.977c1.304-.584.65-.707.65-.707S9.6.703 5.37 7.646c-4.476 7.342-8.392 20.698.56 32.446 8.95 11.747 6.432 15.942 6.432 15.942z"></path></svg><svg class="site-name__letter" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71 100" width="42" role="presentation"><path d="M3.228 99.712l12.75-5.092 19.26-56.215 19.51 56.035 12.62 5.272L39.86 25.326h-9.188"></path></svg></div><span class="site-name__text">Devilish Alchemist&#x27;s Blog</span></span><p class="site-description">Front-end musings and stuff</p></a></header><main class="section-main"><article class="article"><header class="article__header"><a class="article__back article-link" href="/"><span class="article__back-inner">← <span class="article__back-text">Back to articles</span></span></a><h1 class="article__title">Preferencje użytkownika w CSS @media</h1><small class="article__date">08 February, 2020</small></header><div class="article__content"><p>W specyfikacji <a href="https://drafts.csswg.org/mediaqueries-5">Media Queries poziomu 5</a> wprowadzane są nowe reguły @media pozwalające na szanowanie ustawień użytkownika w paru zakresach. Dwa najbardziej konkretne z nich wspierane są już przez większość przeglądarek i na tych się skupię, wspominając krótko o reszcie propozycji.</p>
<h2>Ruch</h2>
<p>Gdy tylko w sieci Web pojawiła się taka możliwość autorzy stron zaczęli dodawać do swoich stron wszelakie animacje. Początkowo mogły być to elementy <code class="language-text">&lt;marquee&gt;</code> lub animowane GIFy, później Flash stworzył czego dusza zapragnęła, dziś korzystamy z dobrodziejstw JS i animacji CSS. Czy ktokolwiek zatrzymał się jednak na chwilę i pomyślał, czy każdemu użytkownikowi fikuśne animacje odpowiadają?</p>
<p>Aż <a href="https://vestibular.org/understanding-vestibular-disorder">do 35% dorosłych powyżej wieku 40 lat</a> doświadczyło jakiejś formy zaburzenia przedsionka ucha wewnętrznego, które służy wykrywaniu pozycji głowy lub odczuwaniu przyspieszenia w aucie czy windzie (<a href="https://pl.wikipedia.org/wiki/Propriocepcja">propriocepcji</a>). Niespodziewany, szybki ruch jest w stanie u takich osób wywołać zawroty głowy i nudności.</p>
<p>Dzięki nowej regule <code class="language-text">prefers-reduced-motion</code> (<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-reduced-motion">w MDN</a>) możemy ograniczyć lub wyłączyć potencjalnie szkodliwe animacje dla osób, które tę regułę w swoim systemie zdefiniowały.
Mamy tu do wyboru dwie wartości: <code class="language-text">no-preference</code> oraz <code class="language-text">reduce</code>.</p>
<p>Według podejścia <a href="https://www.smashingmagazine.com/2009/04/progressive-enhancement-what-it-is-and-how-to-use-it/">progressive enhancement</a> należałoby zdefiniować style najpierw bez animacji by następnie dodać je dla użytkowników, którym one nie przeszkadzają, np. tak:</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">.element</span> <span class="token punctuation">{</span>
  <span class="token comment">/* brak animacji */</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-reduced-motion</span><span class="token punctuation">:</span> no-preference<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.element</span> <span class="token punctuation">{</span>
    <span class="token property">animation</span><span class="token punctuation">:</span> animate 1s<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Dla istniejących stron, które chciałyby wprowadzić tę regułę dość radykalnie, bo usuwając wszystkie CSSowe animacje, można użyć skryptu sugerowanego przez <a href="https://a11yproject.com/posts/understanding-vestibular-disorders/">a11yproject.com</a>:</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-reduced-motion</span><span class="token punctuation">:</span> reduce<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">*,
  ::before,
  ::after</span> <span class="token punctuation">{</span>
    <span class="token property">animation-duration</span><span class="token punctuation">:</span> 0.001s <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">animation-iteration-count</span><span class="token punctuation">:</span> 1 <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">transition-duration</span><span class="token punctuation">:</span> 0.001s <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<blockquote>
<p>W narzędziach deweloperskich Chrome możemy emulować przełączanie tej reguły w szufladzie “Rendering” pod nazwą “Emulate CSS media feature prefers-reduced-motion”. Pro-tip: jeśli nie możesz jej znaleźć, wciśnij <kbd>Ctrl Shift P</kbd> w otwartych devtoolsach i wyszukaj “rendering”.</p>
</blockquote>
<p>Jak tylko zobaczymy szersze wsparcie tej techniki na stronach to myślę, że nie jestem jedyny, który widzi jej zastosowanie również we własnych eksploracjach internetu. Żadnych animacji, wszystko instant!</p>
<h2>Kolor</h2>
<p>Dark mode stał się ostatnio tak popularny, że mało jest już stron czy aplikacji desktopowych nie dających swoim użytkownikom możliwości wybrania między ciemnym i jasnym motywem.</p>
<p>Naturalnie stało się to polem walki o wyższość jednej opcji nad drugą, która zwykle sprowadza się do argumentów ad “moja racja jest najmojsza”. Nic w tym dziwnego, bo jak się okazuje, wybór ten dla większości populacji jest kwestią preferencji nie wpływającej na wydajność czytania, choć średnio <a href="https://www.nngroup.com/articles/dark-mode">motyw jasny na tym polu wygrywa</a>. Osoby z zaćmą i pokrewnymi schorzeniami mogą jednak odczuć poprawę po przejściu na motyw ciemny, a długoterminowe czytanie w jasnych motywach może mieć związek z krótkowzrocznością, więc powinniśmy uszanować wybór użytkownika w tym zakresie.</p>
<p>Na pomoc i w zastępstwie (lub dodatkowo do) przycisków zmiany motywu przychodzi nam reguła <code class="language-text">prefers-color-scheme</code> (<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme">w MDN</a>). Dostępne w niej wartości <code class="language-text">no-preference</code>, <code class="language-text">light</code> i <code class="language-text">dark</code> umożliwią nam podporządkowanie wyglądu strony ustawieniom systemu odwiedzającego.</p>
<p>W przypadku stron domyślnie jasnych i korzystając ze zmiennych CSS możnaby napisać:</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">:root</span> <span class="token punctuation">{</span>
  <span class="token property">--bodyText</span><span class="token punctuation">:</span> #222<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--bodyText<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@media</span> screen and <span class="token punctuation">(</span><span class="token property">prefers-color-scheme</span><span class="token punctuation">:</span> dark<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">:root</span> <span class="token punctuation">{</span>
    <span class="token property">--bodyText</span><span class="token punctuation">:</span> #eee<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Uważać przy tym trzeba, by reguła ta tyczyła się wyłącznie ekranów (stąd <code class="language-text">screen</code>), bo ciemny motyw jest w większości przypadków niepożądany choćby przy drukowaniu strony (<code class="language-text">print</code> media). W przypadku jeśli ciemny jest domyślny możnaby użyć:</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> print<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token property">prefers-color-scheme</span><span class="token punctuation">:</span> light<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* style */</span>
<span class="token punctuation">}</span></code></pre></div>
<p>co załatwi od razu problem kolorów w wersji strony przystosowanej do druku.</p>
<blockquote>
<p>Przełączać motywy można, jak w przypadku reduced-motion, w narzędziach deweloperskich Chrome pod nazwą “Emulate CSS media feature prefers-color-scheme”.</p>
</blockquote>
<h2>Inne</h2>
<p>Parę z innych propozycji <abbr title="CSS Working Group">CSSWG</abbr>, które jeszcze nie doczekały się finalnej wersji i szerokiego wsparcia w przeglądarkach to:</p>
<ul>
<li><code class="language-text">prefers-reduced-transparency</code> ma służyć zmniejszeniu liczby elementów z przezroczystościami, by ułatwić przeglądanie osobom z problemami rozpoznywania kształtów (<a href="https://en.wikipedia.org/wiki/Apperceptive_agnosia">rodzajem agnozji</a>). Problem ten nie zawsze powiązany jest z przezroczystością a jego występowania w przypadku Webu wydaje mi się jest niewiele, ale warto wiedzieć o takiej przypadłości.</li>
<li><code class="language-text">prefers-contrast</code> to z kolei reguła wskazująca jak mocny kontrast preferuje użytkownik. Obecnie, jak w przypadku dark mode, używa się przycisków przełączania styli, co ta propozycja automatyzuje. Przydatne, choć większość z nas dobrze by skupiła się najpierw na dostosowaniu do <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/Understanding_WCAG/Perceivable/Color_contrast">kontrastu przynajmniej AA</a>.</li>
<li><code class="language-text">prefers-reduced-data</code> ma mówić stronie, że użytkownik chce otrzymać dane o mniejszej wielkości. Ci, którym zależy na przesyłaniu minimalnej paczki użytkownikowi, już to robią, lecz wyobrażam sobie wykorzystanie tej reguły w przypadku szczerej chęci poprawienia funkcjonalności strony stopniowo w stylu progressive enhancement lecz biorąc pod uwagę wagę.</li>
<li><code class="language-text">inverted-colors</code> informuje o fakcie użycia odwrotnych kolorów w systemie użytkownika, by móc w takiej sytuacji odpowiednio zmodifykować stronę. Nie wiem, w jakim przypadku ktoś odwraca kolory, ale jest możliwość tego obsługi.</li>
<li><code class="language-text">forced-colors</code> zaś informuje o narzuceniu przez system użytkownika palety kolorów. Ma to miejsce, np. gdy w systemie Windows ustawiony jest tryb wysokiego kontrastu. Sporo elementów ozdobnych staje się w tym trybie niewidocznych, przez co mamy choćby okazję usunięcia zbędnych przestrzeni lub paddingów (co pewnie nie jest tym, o czym myślą twórcy standardu, ale tyle udało mi się wymyślić).</li>
</ul>
<h2>Więcej wolności</h2>
<p>Podporządkowywanie się pod ustawienia użytkowników to dobry krok w kierunku tworzenia stron, które nie tylko wyświetlają informację, ale są otwarte na sposób, w jaki mają ją wyświetlać. Lubimy dostępny internet.</p>
<p>Uff… coś się udało napisać na podsumowanie.</p>
<p>A teraz sio, dodawać dark mode do swojego blogaska!</p></div><footer><a class="article__back article__back--bottom article-link" href="/"><span class="article__back-inner">← <span class="article__back-text">Back to articles</span></span></a></footer></article></main><footer class="site-footer"><p>Written by <a href="mailto:marek@devalchemist.com">Marek</a> in the rare times he&#x27;s inspired.</p><p>No data collecting or cookie storing. Suck it GDPR.</p></footer></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"2020-02-08-css-media-a-11-y-a6a","path":"/2020-02-08-css-media-a11y/"};window.dataPath="431/path---2020-02-08-css-media-a-11-y-a-6-a-66e-qtLQtH9ZcQyWpdYOVjWMlhLNmI";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-18cb18ebc15fda75ec3c.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-896a3f852b233b9ca05e.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-4d1997cd8e762544ffed.js"],"component---src-pages-404-js":["/component---src-pages-404-js-edd4f0852e10760afe19.js"],"component---src-pages-index-js":["/component---src-pages-index-js-99794f28bb72ca192d2f.js"],"pages-manifest":["/pages-manifest-749616d55eb3d87ae862.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-4d1997cd8e762544ffed.js" async=""></script><script src="/1-9109b7577cf099b32566.js" async=""></script><script src="/styles-fbc925b19cac9dd3535c.js" async=""></script><script src="/app-18cb18ebc15fda75ec3c.js" async=""></script><script src="/webpack-runtime-da21cc67be3be90d2575.js" async=""></script></body></html>