<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.9ce49e0bf06bedcf90b5.css">:root{--codeBlockBackground:rgba(39,34,28,0.94118);--darkBrown:#27221c;--lightBrown:rgba(39,34,28,0.37647);--lighterBrown:rgba(39,34,28,0.12549);--lightGray:#e6e6e0;--lighterGray:rgba(230,230,224,0.50196);--red:#a03030}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tml,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}em,i{font-style:italic}strong{font-weight:700}code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;overflow:auto;font-size:.9em;margin:.5em 0 1rem;background:rgba(39,34,28,.94118);background:var(--codeBlockBackground)}:not(pre)>code[class*=language-]{font-size:.9em;color:#27221c;color:var(--darkBrown);background:rgba(39,34,28,.12549);background:var(--lighterBrown);padding:0 .2em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}.visuallyhidden{position:absolute;overflow:hidden;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;border:0}html{font-size:80%}@media (min-width:480px){html{font-size:90%}}@media (min-width:768px){html{font-size:100%}}body{background-color:#27221c;background-color:var(--darkBrown);overflow-y:scroll;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;font-size:1.125rem;line-height:1.4}h1,h2,h3{font-weight:400;font-family:Palatino,Palatino Linotype,Palatino LT STD,Book Antiqua,Georgia,serif}a{color:#a03030;color:var(--red);text-decoration:none}a:focus,a:hover{text-decoration:underline}hr{border:none;height:1px;margin:1.5rem 0;background-color:rgba(39,34,28,.37647);background-color:var(--lightBrown)}@-webkit-keyframes hornJump{0%,6%,to{-webkit-transform:translateY(0) rotate(0);transform:translateY(0) rotate(0)}20%{-webkit-transform:translateY(-6px) rotate(0);transform:translateY(-6px) rotate(0)}40%{-webkit-transform:translateY(2px) rotate(5deg);transform:translateY(2px) rotate(5deg)}60%{-webkit-transform:translateY(0) rotate(-4deg);transform:translateY(0) rotate(-4deg)}80%{-webkit-transform:translateY(0) rotate(3deg);transform:translateY(0) rotate(3deg)}}@keyframes hornJump{0%,6%,to{-webkit-transform:translateY(0) rotate(0);transform:translateY(0) rotate(0)}20%{-webkit-transform:translateY(-6px) rotate(0);transform:translateY(-6px) rotate(0)}40%{-webkit-transform:translateY(2px) rotate(5deg);transform:translateY(2px) rotate(5deg)}60%{-webkit-transform:translateY(0) rotate(-4deg);transform:translateY(0) rotate(-4deg)}80%{-webkit-transform:translateY(0) rotate(3deg);transform:translateY(0) rotate(3deg)}}@-webkit-keyframes letterJump{0%,to{-webkit-transform:translateY(0);transform:translateY(0)}30%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}60%{-webkit-transform:translateY(4px);transform:translateY(4px)}}@keyframes letterJump{0%,to{-webkit-transform:translateY(0);transform:translateY(0)}30%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}60%{-webkit-transform:translateY(4px);transform:translateY(4px)}}.site-name{line-height:1}.home-link{display:block;color:#e6e6e0;color:var(--lightGray)}.home-link:focus,.home-link:hover{text-decoration:none}.home-link:focus .site-name__horns,.home-link:hover .site-name__horns{-webkit-animation:hornJump .8s;animation:hornJump .8s}.home-link:focus .site-name__letter,.home-link:hover .site-name__letter{-webkit-animation:letterJump .5s;animation:letterJump .5s}.site-name__image{position:relative;float:left;margin-right:2rem}.site-name__horns{fill:#a03030;fill:var(--red);-webkit-transform-origin:center;transform-origin:center}.site-name__letter{position:absolute;top:0;left:0;fill:#e6e6e0;fill:var(--lightGray)}.site-name__letter.dark{fill:#27221c;fill:var(--darkBrown)}.site-name__text{display:inline-block;font-family:Palatino,Palatino Linotype,Palatino LT STD,Book Antiqua,Georgia,serif;margin-top:.6em;margin-bottom:.05em;font-size:2rem}@media (min-width:480px){.site-name__text{margin-top:.35em;font-size:2.2rem}}@media (min-width:768px){.site-name__text{margin-top:.23em}}.site-description{text-transform:uppercase;letter-spacing:.4em;color:rgba(230,230,224,.50196);color:var(--lighterGray);transition:opacity .2s;font-size:.8rem}@media (min-width:480px){.site-description{font-size:.875rem}}.sections-wrap{position:relative;max-width:50rem;padding:1.5rem 0}@media (min-width:768px){.sections-wrap{margin:0 5%;padding:3rem 0}}@media (min-width:1280px){.sections-wrap{margin:0 10%}}.section-main{margin:1.5rem 0}@media (min-width:768px){.section-main{margin:3rem 0}}.site-footer,.site-header{padding:0 1rem}@media (min-width:768px){.site-footer,.site-header{padding:0}}.article{position:relative;margin:1rem 0;padding:3rem 1rem;border-top:5px solid #a03030;border-top:5px solid var(--red);background-color:#e6e6e0;background-color:var(--lightGray)}.article:before{content:"fin";position:absolute;bottom:0;right:0;font-size:3.5rem;line-height:.8;color:#27221c;color:var(--darkBrown);opacity:.2;font-family:Palatino,Palatino Linotype,Palatino LT STD,Book Antiqua,Georgia,serif}@media (min-width:768px){.article{padding:4rem 2rem}}.article__title{font-size:1.6rem;line-height:1.2}@media (min-width:480px){.article__title{font-size:1.8rem}}.article__date{font-size:1rem;text-transform:uppercase;letter-spacing:.2em;color:#27221c;color:var(--darkBrown);opacity:.7}.article__content{margin-top:2rem;margin-bottom:2rem}.article__content h2,.article__content h3,.article__content h4{margin:2rem 0 1.2rem;border-bottom:1px solid rgba(39,34,28,.12549);border-bottom:1px solid var(--lighterBrown)}.article__content h2{font-size:1.6rem}.article__content h3{text-transform:uppercase;letter-spacing:.1em}.article__content a:focus,.article__content a:hover{text-decoration:underline}.article__content>*+*{margin-top:1em}.article__content ol{list-style-position:inside}.articles-list{margin:1rem 0;border-top:5px solid #a03030;border-top:5px solid var(--red);background-color:#e6e6e0;background-color:var(--lightGray)}.article-link{position:relative;display:block;padding:1rem;border-bottom:1px solid rgba(39,34,28,.12549);border-bottom:1px solid var(--lighterBrown);color:#27221c;color:var(--darkBrown)}.article-link:before{content:"";position:absolute;top:0;bottom:-1px;left:0;right:0;background-color:rgba(39,34,28,.12549);background-color:var(--lighterBrown);opacity:0;-webkit-transform:scaleX(.6);transform:scaleX(.6);transition:opacity .3s,-webkit-transform .4s cubic-bezier(0,1,.5,1);transition:opacity .3s,transform .4s cubic-bezier(0,1,.5,1);transition:opacity .3s,transform .4s cubic-bezier(0,1,.5,1),-webkit-transform .4s cubic-bezier(0,1,.5,1);-webkit-transform-origin:10%;transform-origin:10%}.article-link:focus,.article-link:hover{text-decoration:none}.article-link:focus:before,.article-link:hover:before{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}.article-link:active{color:#a03030;color:var(--red)}@media (min-width:768px){.article-link{padding:1rem 2rem}}.article-link__date,.article-link__title{z-index:1;position:relative}.article__back{position:absolute;top:0;left:0;right:0;padding-top:.7rem;padding-bottom:.7rem;font-size:1.2rem;line-height:1;border:none}.article__back:focus .article__back-text,.article__back:hover .article__back-text{opacity:1;-webkit-transform:translateX(0);transform:translateX(0)}.article__back--bottom{top:auto;bottom:0;padding-bottom:.9rem}.article__back-text{display:inline-block;margin-left:.5rem;font-size:1rem;text-transform:uppercase;letter-spacing:.1em;color:#27221c;color:var(--darkBrown);opacity:0;-webkit-transform:translateX(1rem);transform:translateX(1rem);transition:opacity .3s,-webkit-transform .4s cubic-bezier(0,1,.5,1);transition:opacity .3s,transform .4s cubic-bezier(0,1,.5,1);transition:opacity .3s,transform .4s cubic-bezier(0,1,.5,1),-webkit-transform .4s cubic-bezier(0,1,.5,1)}.site-footer{font-size:1rem;color:rgba(230,230,224,.50196);color:var(--lighterGray)}.site-footer a{color:#e6e6e0;color:var(--lightGray)}</style><meta name="generator" content="Gatsby 2.4.2"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=a496bd86037dd92cbc323524193af072"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#a03030"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=a496bd86037dd92cbc323524193af072"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=a496bd86037dd92cbc323524193af072"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=a496bd86037dd92cbc323524193af072"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=a496bd86037dd92cbc323524193af072"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=a496bd86037dd92cbc323524193af072"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=a496bd86037dd92cbc323524193af072"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=a496bd86037dd92cbc323524193af072"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=a496bd86037dd92cbc323524193af072"/><title data-react-helmet="true">Zmienne i przekazywanie przez referencję w JS | Devilish Alchemist&#x27;s Blog</title><meta data-react-helmet="true" name="description" content="Zadano mi dziś ciekawe pytanie. Zerknijcie na kod i zobaczcie, czy jego rozszyfrowanie sprawia wam trudność:I jak?Dlaczego  nie jest nadpisane nowym obiektem…"/><meta data-react-helmet="true" property="og:title" content="Zmienne i przekazywanie przez referencję w JS"/><meta data-react-helmet="true" property="og:description" content="Zadano mi dziś ciekawe pytanie. Zerknijcie na kod i zobaczcie, czy jego rozszyfrowanie sprawia wam trudność:I jak?Dlaczego  nie jest nadpisane nowym obiektem…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Marek Pietrzak"/><meta data-react-helmet="true" name="twitter:title" content="Zmienne i przekazywanie przez referencję w JS"/><meta data-react-helmet="true" name="twitter:description" content="Zadano mi dziś ciekawe pytanie. Zerknijcie na kod i zobaczcie, czy jego rozszyfrowanie sprawia wam trudność:I jak?Dlaczego  nie jest nadpisane nowym obiektem…"/><link as="script" rel="preload" href="/1-9109b7577cf099b32566.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-87c6b5f00af452bc5413.js"/><link as="script" rel="preload" href="/app-21b8d9018e3acab692e5.js"/><link as="script" rel="preload" href="/styles-fbc925b19cac9dd3535c.js"/><link as="script" rel="preload" href="/webpack-runtime-600a4f1c1853275dbd96.js"/><link as="fetch" rel="preload" href="/static/d/280/path---2019-05-06-zmienne-i-referencje-ceb-823-86dyh92AZ0SzZXHRY4gr15pj28.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="sections-wrap"><header class="site-header"><a class="home-link" title="All articles" href="/"><span class="site-name"><div class="site-name__image"><svg class="site-name__horns" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71 100" width="42" role="presentation"><path d="M58.627 56.034l-10.35-27.41s15.944-1.4 13.425-13.706C59.637 4.81 53.592 1.56 52.286.978 50.978.393 51.634.27 51.634.27s9.754.433 13.985 7.376c4.474 7.343 8.39 20.698-.56 32.446-8.95 11.747-6.433 15.942-6.433 15.942zM12.362 56.034l10.35-27.41s-15.944-1.4-13.428-13.707C11.352 4.81 17.398 1.56 18.704.977c1.304-.584.65-.707.65-.707S9.6.703 5.37 7.646c-4.476 7.342-8.392 20.698.56 32.446 8.95 11.747 6.432 15.942 6.432 15.942z"></path></svg><svg class="site-name__letter" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71 100" width="42" role="presentation"><path d="M3.228 99.712l12.75-5.092 19.26-56.215 19.51 56.035 12.62 5.272L39.86 25.326h-9.188"></path></svg></div><span class="site-name__text">Devilish Alchemist&#x27;s Blog</span></span><p class="site-description">Front-end musings and stuff</p></a></header><main class="section-main"><article class="article"><header class="article__header"><a class="article__back article-link" href="/">← <span class="article__back-text">Back to articles</span></a><h1 class="article__title">Zmienne i przekazywanie przez referencję w JS</h1><small class="article__date">06 May, 2019</small></header><div class="article__content"><p>Zadano mi dziś ciekawe pytanie. Zerknijcie na kod i zobaczcie, czy jego rozszyfrowanie sprawia wam trudność:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">"red"</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">reassign</span> <span class="token operator">=</span> <span class="token parameter">b</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  b <span class="token operator">=</span> <span class="token punctuation">{</span> size<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// ?</span>
<span class="token punctuation">}</span>
<span class="token function">reassign</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// ?</span></code></pre></div>
<p>I jak?</p>
<p>Dlaczego <code class="language-text">a</code> nie jest nadpisane nowym obiektem, przecież <code class="language-text">b</code> powinno być równe <code class="language-text">a</code>?</p>
<p>Każdy ucząc się JS słyszał zapewne o tym, jak to obiekty przekazywane są do funkcji przez referencję. Jednak czy mamy z tym do czynienia w powyższym przypadku?</p>
<p>Nie mamy. Chodzi tu tylko o zmianę wartości zmiennej.</p>
<h2>Przeanalizujmy kod linia po linii</h2>
<ol>
<li>deklarujemy zmienną <code class="language-text">a</code>, nadając jej wartość obiektu, gdzie ta wartość to tak naprawdę wskaźnik na miejsce w pamięci, gdzie ten obiekt się znajduje,</li>
</ol>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Zmienne     Pamięć
a _________ { color: &#39;red&#39; }</code></pre></div>
<ol start="2">
<li>deklarujemy zmienną <code class="language-text">reassign</code>, nadając jej jako wartość funkcję,</li>
<li>wywołujemy <code class="language-text">reassign</code> podając <code class="language-text">a</code> jako parametr,</li>
<li>tworzy się nowy <a href="https://www.youtube.com/watch?v=Hb0RG60gwh8">kontekst wywołania</a>, <strong>deklaruje zmienną</strong> <code class="language-text">b</code> i ustawia jej wartość na wartość <code class="language-text">a</code>, czyli <code class="language-text">b</code> wskazuje teraz na ten sam obiekt, co <code class="language-text">a</code>,</li>
</ol>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Zmienne     Pamięć
a _________ { color: &#39;red&#39; }
b _________/</code></pre></div>
<ol start="5">
<li>przypisuje do <code class="language-text">b</code> nowy wskaźnik na nowo utworzony obiekt,</li>
</ol>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Zmienne     Pamięć
a _________ { color: &#39;red&#39; }
b _________ { size: 10 }</code></pre></div>
<ol start="6">
<li>loguje <code class="language-text">b</code>, kończy się wywołanie funkcji, loguje <code class="language-text">a</code>.</li>
</ol>
<p>Nie pozostaje już chyba żadna wątpliwość, co zostanie wyplute do konsoli. Czy skorzystaliśmy tu jednak z faktu, że obiekty przekazywane są do funkcji jako referencje? Nie, ale mogliśmy przed krokiem 5, kiedy <code class="language-text">b</code> wskazywał jeszcze na pierwszy obiekt i można go było zmodyfikować, np. tak:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">b<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// { color: 'red', size: 10 }</span></code></pre></div>
<p>Nowością dla początkującego może być fakt, że przekazanie do funkcji zmiennej <code class="language-text">a</code> nie jest równoważne temu, że <code class="language-text">b</code> <em>będzie</em> zmienną <code class="language-text">a</code>. Nie, jest to osobna zmienna stworzona na potrzeby tej funkcji. Można sobie to wyobrazić tak:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">"red"</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">reassign</span> <span class="token operator">=</span> <span class="token parameter">a</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> b <span class="token operator">=</span> a <span class="token comment">// to się dzieje automagicznie!</span>
  b <span class="token operator">=</span> <span class="token punctuation">{</span> size<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">reassign</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></code></pre></div>
<p>Trzeba rozdzielić myślenie o nazwach zmiennych i ich wartościach. W problemie nie dotykamy wartości obiektu (referencji), a zajmujemy się tylko zmienną <code class="language-text">b</code> modyfikując na co ma wskazywać. Warto mieć w głowie model zmiennych i pamięci jak zademonstrowany w krokach wyżej.</p>
<h2>Bez obiektów</h2>
<p>Powiedzmy, że zmodyfikuję nasz problem w następujący sposób:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">const</span> <span class="token function-variable function">reassign</span> <span class="token operator">=</span> <span class="token parameter">b</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  b <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
<span class="token function">reassign</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></code></pre></div>
<p>Zniknęły obiekty, nie ma referencji. Jaki będzie wynik?</p>
<p>Taki sam, bo w zasadzie zmieniło się tylko tyle, że zamiast wskazywać na obiekt wskazujemy teraz na liczbę.</p>
<h2>Patrz na kontekst wywołania i zasięg zmiennych</h2>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">const</span> <span class="token function-variable function">reassign</span> <span class="token operator">=</span> <span class="token parameter">a</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  a <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
<span class="token function">reassign</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></code></pre></div>
<p>Czy powyższa zmiana <code class="language-text">b</code> na <code class="language-text">a</code> wewnątrz funkcji zmienia cokolwiek w programie?</p>
<p>Nie, wewnętrzne <code class="language-text">a</code> istnieje w innym scope od <code class="language-text">a</code> zewnętrznego i dostęp do nich zależy od kontekstu wywołania, w którym aktualnie przebywa program. W trakcie wywołania <code class="language-text">reassign</code> będzie to <code class="language-text">1 -&gt; 2</code>, a w globalnym kontekście zawsze <code class="language-text">1</code>.</p>
<p>Zrozumienie kontekstu (execution context), zasięgu zmiennych (scope) i jak te zmienne są przechowywane w pamięci to bardzo ważna wiedza przy zabawie z JS. Nie jest to specjalnie trudne bez wchodzenia w szczegóły, a zrozumienie tutaj przełoży się na łatwiejsze przyswojenie mechanizmu domknięć (closure).</p>
<h2>Przykład z tyłka</h2>
<p>Jeśli rozumiecie ten pierwszy problem to zobaczycie też, że nie ma on zupełnie sensu w realnym świecie a przynajmniej zapala czerwone lampki poprawności kodu. Nadpisanie wartości argumentu zaraz po jego otrzymaniu w funkcji - to na co mi ten argument?</p>
<p>Może <code class="language-text">b</code> powinno być zmienną wewnątrz funkcji?</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">reassign</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">{</span> size<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Jeśli chcielibyśmy nadpisać zmienną poza funkcją moglibyśmy napisać tak:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">"red"</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">reassign</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  a <span class="token operator">=</span> <span class="token punctuation">{</span> size<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">reassign</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>Jednak <code class="language-text">reassign</code> ma teraz wpływ na rzeczy poza jej scope (posiada side-effecty) przez co jest trudniejsza do zrozumienia i przetestowania, a kod do zdebugowania. A można:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">"red"</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">reassign</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> size<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
a <span class="token operator">=</span> <span class="token function">reassign</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>Dzięki czemu <code class="language-text">reassign</code> jest pure (bez side-effectów), a programiści &#x3C;3 pure functions.</p>
<hr>
<p>Mam nadzieję, że ten artykuł ma trochę sensu. Można mnie złapać i zadawać pytania na <a href="https://discord.typeofweb.com/">discordzie Type of Web</a>, zapraszam.</p></div><footer><a class="article__back article__back--bottom article-link" href="/">← <span class="article__back-text">Back to articles</span></a></footer></article></main><footer class="site-footer"><p>Written by <a href="mailto:marek@devalchemist.com">Marek</a> in the rare times he&#x27;s inspired.</p><p>No data collecting or cookie storing. Suck it GDPR.</p></footer></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"2019-05-06-zmienne-i-referencje-ceb","path":"/2019-05-06-zmienne-i-referencje/"};window.dataPath="280/path---2019-05-06-zmienne-i-referencje-ceb-823-86dyh92AZ0SzZXHRY4gr15pj28";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-21b8d9018e3acab692e5.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-896a3f852b233b9ca05e.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-87c6b5f00af452bc5413.js"],"component---src-pages-404-js":["/component---src-pages-404-js-42a42119de82e93c13d3.js"],"component---src-pages-index-js":["/component---src-pages-index-js-bf5732ce989fe6623df3.js"],"pages-manifest":["/pages-manifest-89aabca377a393dd5c6a.js"]};/*]]>*/</script><script src="/webpack-runtime-600a4f1c1853275dbd96.js" async=""></script><script src="/styles-fbc925b19cac9dd3535c.js" async=""></script><script src="/app-21b8d9018e3acab692e5.js" async=""></script><script src="/component---src-templates-blog-post-js-87c6b5f00af452bc5413.js" async=""></script><script src="/1-9109b7577cf099b32566.js" async=""></script></body></html>